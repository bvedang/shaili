{% extends 'accounts_index.html' %} {% block account %}
<div
  class="row"
  style="height: auto; width:1100px; margin-top:120px;margin-left:auto;margin-right:auto;background:#ffffff;box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.4);
  border-radius: 8px;mix-blend-mode:normal;"
>
  <div align="center">
    <p style="font-size: 24px;margin-top:20px;">
      Expenses : January
    </p>
    <table class="table table-hover">
      <thead align="center" style="font-size: 20px;">
        <td>Expense Categories</td>
        <td>Expense Amount</td>
      </thead>
      {% for key,value in table_values.items() %}
      <tr align="center" style="font-size: 18px;">
        <td>{{key}}</td>
        <td>{{value}}</td>
      </tr>
      {% endfor %}
    </table>
  </div>
  <div class="col">
    <canvas id="piechart"></canvas>
    <script>
      Chart.defaults.global.responsive = true;
      var config = {
        // The type of chart we want to create
        type: 'pie',

        // The data for our dataset
        data: {
          datasets: [{
              data: [{% for i in values %}{{i}},
              {% endfor %}],
              backgroundColor:[{% for i in colors %} '{{i}}',
              {% endfor %}],
              label:'{{legend}}'
          }],
          labels:[{% for i in labels %} "{{i}}",
          {%endfor%}]
        },

        // Configuration options go here
        options: {
          fontSizeL: 20,
          legend: {
            display: true,
            position: 'bottom',
            labels: {
              fontColor: "#000080",
            }
          },
          title:{
            display:true,
            text:'Expense && Profit Pie-Chart',
            position:'top',
            fontSize:20
          },
          layout: {
            padding: {
                left: 0,
                right: 0,
                top: 50,
                bottom: 0
            }
        }
        }
      }
      var ctx = document.getElementById('piechart').getContext('2d');
      var myPiechart = new Chart(ctx,config);
    </script>
  </div>
</div>

<div
  class="row"
  style="margin-top:40px;margin-left:auto;margin-right:auto;margin-bottom:40px;width:1100px;background:#ffffff;box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.4);
  border-radius: 8px;mix-blend-mode:normal;"
>
  <div class="col p-3">
    <p style="font-size: 22px;text-align:center">Add Expense</p>
    <form
      align="center"
      method="POST"
      style="margin-top: 10px;"
      class="form-group"
    >
      {{form.hidden_tag()}}
      <div class="row p-0 m-0">
        <div class="form-group p-1 pl-4 ml-3">
          {{form.category.label}} {{form.category(class="form-control")}}
        </div>
        <div class="form-group p-1 pl-4">
          {{form.amount.label}} {{form.amount(placeholder='Expense Amount...',class="form-control")}}
        </div>
        <div class="form-group p-1 pl-4">
          {{form.expense_message.label}}
          {{form.expense_message(placeholder='Expense message...',class="form-control")}}
        </div>
        <div class="form-group p-1 pl-4">
          {{form.date.label}} {{form.date(class="form-control")}}
        </div>
        <div class="form-group p-1 pl-4 pt-4 mt-2">
          {{form.update(class="btn btn-info")}}
        </div>
      </div>
    </form>
  </div>
</div>
{% endblock %}
